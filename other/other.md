# 杂七杂八

#### 雪花算法
•	最高位是符号位，始终为0，不可用。   
•	41位的时间序列，精确到毫秒级，41位的长度可以使用69年。时间位还有一个很重要的作用是可以根据时间进行排序。   
•	10位的机器标识，10位的长度最多支持部署1024个节点。   
•	12位的计数序列号，序列号即一系列的自增id，可以支持同一节点同一毫秒生成多个ID序号，12位的计数序列号支持每个节点每毫秒产生4096个ID序号。 

#### 对一个文件的单词进行计数
awk -F '[,:]'  '{a[$4]++}  END{for(i in a)print i "-->"  a[i]}' 20190524.csv 
awk -F ' '  '{a[$6]++}  END{for(i in a)print i "-->"  a[i]}' ./1.txt

top –H看线程

#### DB和缓存一致性
更新db，删除缓存，发个延迟消费的mq，隔1s消费，然后再删除缓存。存mq不成功怎么办，使用binlog监听或者存数据库定时扫描
或者xa分布式事物

